\hypertarget{mainSDL_8c}{}\section{main\+S\+D\+L.\+c File Reference}
\label{mainSDL_8c}\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
{\ttfamily \#include $<$S\+D\+L2/\+S\+D\+L.\+h$>$}\newline
{\ttfamily \#include \char`\"{}head.\+h\char`\"{}}\newline
Include dependency graph for main\+S\+D\+L.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{mainSDL_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcell}{cell}
\begin{DoxyCompactList}\small\item\em gfdjhgf \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structcell}{cell} $\ast$ \hyperlink{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}{init\+Display} (\hyperlink{structcontainer}{container} $\ast$grid, int cell\+Size)
\item 
void \hyperlink{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}{sdl\+Display} (S\+D\+L\+\_\+\+Renderer $\ast$renderer, \hyperlink{structcell}{cell} $\ast$S\+D\+L\+\_\+grid, \hyperlink{structcontainer}{container} $\ast$grid, \hyperlink{structcontainer}{container} $\ast$piece, S\+D\+L\+\_\+\+Color color, int px, int py)
\item 
void \hyperlink{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}{sdl\+Update\+Display} (\hyperlink{structcell}{cell} $\ast$S\+D\+L\+\_\+grid, \hyperlink{structcontainer}{container} $\ast$piece, \hyperlink{structcontainer}{container} $\ast$grid, S\+D\+L\+\_\+\+Color color, int px, int py)
\item 
int \hyperlink{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089}{main} (int argc, char const $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}\label{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!init\+Display@{init\+Display}}
\index{init\+Display@{init\+Display}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{init\+Display()}{initDisplay()}}
{\footnotesize\ttfamily \hyperlink{structcell}{cell} $\ast$ init\+Display (\begin{DoxyParamCaption}\item[{\hyperlink{structcontainer}{container} $\ast$}]{grid,  }\item[{int}]{cell\+Size }\end{DoxyParamCaption})}



Definition at line 110 of file main\+S\+D\+L.\+c.



References cell\+::border, cell\+::cases, container\+::len, and container\+::size.



Referenced by main().


\begin{DoxyCode}
110                                                 \{
111     \hyperlink{structcell}{cell}* SDL\_grid = malloc(\textcolor{keyword}{sizeof}(\hyperlink{structcell}{cell})*grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size});
112     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; y++) \{
113         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; x++) \{
114             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].border.x = 10+((cellSize+2)*x);
115             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].border.y = 10+((cellSize+2)*y);
116             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].border.h = cellSize+2;
117             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_ae289d5dfc43a03b47de6dffa417776df}{border}.w = cellSize+2;
118 
119             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].cases.x = 10+((cellSize+2)*x)+1;
120             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].cases.y = 10+((cellSize+2)*y)+1;
121             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].cases.w = cellSize;
122             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_af2fb9745b37f309905e02fed903748a5}{cases}.h = cellSize;
123 
124             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].r = 0;
125             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].g = 0;
126             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].b = 255;
127         \}
128     \}
129     \textcolor{keywordflow}{return} SDL\_grid;
130 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{mainSDL_8c_a27285143372bf92801396e8ac896e9e2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089}\label{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!main@{main}}
\index{main@{main}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char const $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line 28 of file main\+S\+D\+L.\+c.



References check\+Collision(), H\+E\+I\+G\+HT, init\+Container(), init\+Display(), container\+::len, place(), random\+Piece(), rotate\+\_\+180(), sdl\+Display(), sdl\+Update\+Display(), container\+::size, update(), and W\+I\+D\+TH.


\begin{DoxyCode}
28                                        \{
29 
30     \hyperlink{structcontainer}{container} play\_grid, play\_piece;
31     \textcolor{keywordtype}{int} piece\_x, piece\_y;
32     SDL\_Color color;
33     \hyperlink{structcell}{cell}* SDL\_grid;
34 
35     \textcolor{keywordflow}{if}(SDL\_Init(SDL\_INIT\_VIDEO) != 0) \{
36         printf(\textcolor{stringliteral}{"SDL\_Init error: %s\(\backslash\)n"}, SDL\_GetError());
37         exit(1);
38     \}
39 
40     \hyperlink{container_8c_af20cf8b598b78389dff22b3d176a3727}{initContainer}(\hyperlink{head_8h_a241aeeb764887ae5e3de58b98f04b16d}{WIDTH}, \hyperlink{head_8h_aed89bd71aee8be823e8a20ec4e093c1e}{HEIGHT}, &play\_grid);
41     SDL\_grid = \hyperlink{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}{initDisplay}(&play\_grid,30);
42     \textcolor{keywordflow}{if} (SDL\_grid == NULL) \{
43         printf(\textcolor{stringliteral}{"initDisplay error\(\backslash\)n"});
44         exit(1);
45     \}
46 
47     SDL\_Window* window = NULL;
48     window = SDL\_CreateWindow( \textcolor{stringliteral}{"VapidTetris"}, SDL\_WINDOWPOS\_UNDEFINED, SDL\_WINDOWPOS\_UNDEFINED, 
      \hyperlink{head_8h_a241aeeb764887ae5e3de58b98f04b16d}{WIDTH}*32+20, \hyperlink{head_8h_aed89bd71aee8be823e8a20ec4e093c1e}{HEIGHT}*32+20, SDL\_WINDOW\_SHOWN);
49 
50     SDL\_Renderer* renderer = NULL;
51     renderer =  SDL\_CreateRenderer( window, -1, SDL\_RENDERER\_ACCELERATED);
52 
53     play\_piece = \hyperlink{container_8c_aae1449e449d2f69b52594cccb1dc1e42}{randomPiece}();
54     piece\_x = 0;
55     piece\_y = 0;
56     color.r = 255;
57     color.g = 0;
58     color.b = 0;
59 
60     \hyperlink{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}{sdlDisplay}(renderer, SDL\_grid, &play\_grid, &play\_piece, color, piece\_x, piece\_y);
61 
62     \textcolor{keywordtype}{int} tmp = 1;
63     \textcolor{keywordflow}{while} (tmp) \{
64         SDL\_Event event;
65         SDL\_PollEvent(&event);
66         \textcolor{keywordflow}{switch} (event.type) \{
67             \textcolor{keywordflow}{case} SDL\_KEYDOWN:
68                 \textcolor{keywordflow}{switch}(event.key.keysym.sym) \{
69                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'q'}: piece\_x-=1; \textcolor{keywordflow}{break};
70                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}: piece\_x+=1; \textcolor{keywordflow}{break};
71                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'z'}: piece\_y-=1; \textcolor{keywordflow}{break};
72                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}: piece\_y+=1; \textcolor{keywordflow}{break};
73                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}: \hyperlink{head_8h_afbdf40ca68538464d0df29d9b2a77366}{rotate\_180}(&play\_piece); \textcolor{keywordflow}{break};
74                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'p'}:
75                         \textcolor{keywordflow}{if} (\hyperlink{container_8c_a7a74c6812adffb8d4419092b999a823b}{checkCollision}(&play\_grid, &play\_piece, piece\_x, piece\_y)) \{
76                             printf(\textcolor{stringliteral}{"Can't fit here!\(\backslash\)n"});
77                         \}\textcolor{keywordflow}{else}\{
78                             \hyperlink{container_8c_a46bfac7d0493d39bd4aad51f270bd0d7}{place}(&play\_grid, &play\_piece, piece\_x, piece\_y);
79                             \hyperlink{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}{sdlUpdateDisplay}(SDL\_grid,&play\_piece,&play\_grid, color, 
      piece\_x, piece\_y);
80                             play\_piece = \hyperlink{container_8c_aae1449e449d2f69b52594cccb1dc1e42}{randomPiece}();
81                             \hyperlink{head_8h_aca3f584034ddadfcf89951a1bf10f45c}{update}(&play\_grid);
82                         \}
83                         \textcolor{keywordflow}{break};
84                 \}
85                 \textcolor{keywordflow}{if} (piece\_x<0) \{
86                     piece\_x = 0;
87                 \}
88                 \textcolor{keywordflow}{if} (piece\_y<0) \{
89                     piece\_y = 0;
90                 \}
91                 \textcolor{keywordflow}{if} (piece\_x>play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}-play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}) \{
92                     piece\_x = play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}-play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len};
93                 \}
94                 \textcolor{keywordflow}{if} (piece\_y>(play\_grid.\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})-(play\_piece.
      \hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})) \{
95                     piece\_y = (play\_grid.\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})-(play\_piece.
      \hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len});
96                 \}
97                 \hyperlink{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}{sdlDisplay}(renderer, SDL\_grid, &play\_grid, &play\_piece, color, piece\_x, piece\_y);
98                 \textcolor{keywordflow}{break};
99             \textcolor{keywordflow}{case} SDL\_QUIT:
100                 tmp = 0;
101                 \textcolor{keywordflow}{break};
102             default :
103                 \textcolor{keywordflow}{break};
104         \}
105     \}
106 
107     \textcolor{keywordflow}{return} 0;
108 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}\label{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!sdl\+Display@{sdl\+Display}}
\index{sdl\+Display@{sdl\+Display}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{sdl\+Display()}{sdlDisplay()}}
{\footnotesize\ttfamily void sdl\+Display (\begin{DoxyParamCaption}\item[{S\+D\+L\+\_\+\+Renderer $\ast$}]{renderer,  }\item[{\hyperlink{structcell}{cell} $\ast$}]{S\+D\+L\+\_\+grid,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{grid,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{piece,  }\item[{S\+D\+L\+\_\+\+Color}]{color,  }\item[{int}]{px,  }\item[{int}]{py }\end{DoxyParamCaption})}



Definition at line 145 of file main\+S\+D\+L.\+c.



References cell\+::border, cell\+::cases, container\+::data, container\+::len, and container\+::size.



Referenced by main().


\begin{DoxyCode}
145                                                                                                            
                       \{
146 
147     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < (grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}); y++) \{
148         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; x++) \{
149 
150             \textcolor{keywordflow}{if} (x>=px && x<(px+piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}) && y>=py && y<(py+(piece->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/piece->
      \hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})) && piece->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[((y-py)*piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x-px]) \{
151                 SDL\_SetRenderDrawColor( renderer, color.r, color.g, color.b, 255 );
152             \}\textcolor{keywordflow}{else}\{
153                 SDL\_SetRenderDrawColor( renderer, 0, 0, 0, 255 );
154             \}
155             SDL\_RenderFillRect( renderer, &(SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_ae289d5dfc43a03b47de6dffa417776df}{border}));
156 
157             \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 1)\{
158                 SDL\_SetRenderDrawColor( renderer, 255, 0, 0, 255 );
159             \}
160             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 2)\{
161                 SDL\_SetRenderDrawColor( renderer, 0, 255, 0, 255 );
162             \}
163             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 3)\{
164                 SDL\_SetRenderDrawColor( renderer, 0, 0, 255, 255 );
165             \}
166             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 4)\{
167                 SDL\_SetRenderDrawColor( renderer, 255, 255, 0, 255 );
168             \}
169             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 5)\{
170                 SDL\_SetRenderDrawColor( renderer, 255, 0, 255, 255 );
171             \}
172             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 6)\{
173                 SDL\_SetRenderDrawColor( renderer, 0, 255, 255, 255 );
174             \}
175             \textcolor{keywordflow}{else}\{
176                 SDL\_SetRenderDrawColor( renderer, 123, 123, 123, 255 );
177             \}
178                 SDL\_RenderFillRect( renderer, &(SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].
      \hyperlink{structcell_af2fb9745b37f309905e02fed903748a5}{cases}));
179         \}
180     \}
181     SDL\_RenderPresent(renderer);
182 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}\label{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!sdl\+Update\+Display@{sdl\+Update\+Display}}
\index{sdl\+Update\+Display@{sdl\+Update\+Display}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{sdl\+Update\+Display()}{sdlUpdateDisplay()}}
{\footnotesize\ttfamily void sdl\+Update\+Display (\begin{DoxyParamCaption}\item[{\hyperlink{structcell}{cell} $\ast$}]{S\+D\+L\+\_\+grid,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{piece,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{grid,  }\item[{S\+D\+L\+\_\+\+Color}]{color,  }\item[{int}]{px,  }\item[{int}]{py }\end{DoxyParamCaption})}



Definition at line 132 of file main\+S\+D\+L.\+c.



References container\+::data, container\+::len, and container\+::size.



Referenced by main().


\begin{DoxyCode}
132                                                                                                         \{
133     \textcolor{keywordtype}{int} y, x;
134     \textcolor{keywordflow}{for} (y = 0; y < grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; y++) \{
135         \textcolor{keywordflow}{for} (x = 0; x < grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; x++) \{
136             \textcolor{keywordflow}{if} (x>=px && x<(px+piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}) && y>=py && y<(py+(piece->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/piece->
      \hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})) && piece->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[((y-py)*piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x-px]) \{
137                 SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].r = color.r;
138                 SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].g = color.g;
139                 SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].b = color.b;
140             \}
141         \}
142     \}
143 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{mainSDL_8c_a1e6fb88709bf05a801d646c538927764_icgraph}
\end{center}
\end{figure}
