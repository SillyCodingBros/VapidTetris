\hypertarget{mainSDL_8c}{}\section{main\+S\+D\+L.\+c File Reference}
\label{mainSDL_8c}\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
{\ttfamily \#include $<$S\+D\+L2/\+S\+D\+L.\+h$>$}\newline
{\ttfamily \#include \char`\"{}head.\+h\char`\"{}}\newline
Include dependency graph for main\+S\+D\+L.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{mainSDL_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcell}{cell}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structcell}{cell} $\ast$ \hyperlink{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}{init\+Display} (\hyperlink{structcontainer}{container} $\ast$grid, int cell\+Size)
\item 
void \hyperlink{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}{sdl\+Display} (S\+D\+L\+\_\+\+Renderer $\ast$renderer, \hyperlink{structcell}{cell} $\ast$S\+D\+L\+\_\+grid, \hyperlink{structcontainer}{container} $\ast$grid, \hyperlink{structcontainer}{container} $\ast$piece, S\+D\+L\+\_\+\+Color color, int px, int py)
\item 
void \hyperlink{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}{sdl\+Update\+Display} (\hyperlink{structcell}{cell} $\ast$S\+D\+L\+\_\+grid, \hyperlink{structcontainer}{container} $\ast$piece, \hyperlink{structcontainer}{container} $\ast$grid, S\+D\+L\+\_\+\+Color color, int px, int py)
\item 
int \hyperlink{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089}{main} (int argc, char const $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}\label{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!init\+Display@{init\+Display}}
\index{init\+Display@{init\+Display}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{init\+Display()}{initDisplay()}}
{\footnotesize\ttfamily \hyperlink{structcell}{cell} $\ast$ init\+Display (\begin{DoxyParamCaption}\item[{\hyperlink{structcontainer}{container} $\ast$}]{grid,  }\item[{int}]{cell\+Size }\end{DoxyParamCaption})}



Definition at line 96 of file main\+S\+D\+L.\+c.



References cell\+::border, cell\+::cases, container\+::len, and container\+::size.



Referenced by main().


\begin{DoxyCode}
96                                                 \{
97     \hyperlink{structcell}{cell}* SDL\_grid = malloc(\textcolor{keyword}{sizeof}(\hyperlink{structcell}{cell})*grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size});
98     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; y++) \{
99         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; x++) \{
100             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].border.x = 10+((cellSize+2)*x);
101             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].border.y = 10+((cellSize+2)*y);
102             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].border.h = cellSize+2;
103             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_ae289d5dfc43a03b47de6dffa417776df}{border}.w = cellSize+2;
104 
105             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].cases.x = 10+((cellSize+2)*x)+1;
106             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].cases.y = 10+((cellSize+2)*y)+1;
107             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].cases.w = cellSize;
108             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_af2fb9745b37f309905e02fed903748a5}{cases}.h = cellSize;
109 
110             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].r = 0;
111             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].g = 0;
112             SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].b = 255;
113         \}
114     \}
115     \textcolor{keywordflow}{return} SDL\_grid;
116 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{mainSDL_8c_a27285143372bf92801396e8ac896e9e2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089}\label{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!main@{main}}
\index{main@{main}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char const $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line 15 of file main\+S\+D\+L.\+c.



References check\+Collision(), H\+E\+I\+G\+HT, init\+Container(), init\+Display(), container\+::len, place(), random\+Piece(), sdl\+Display(), sdl\+Update\+Display(), container\+::size, update(), and W\+I\+D\+TH.


\begin{DoxyCode}
15                                        \{
16 
17     \hyperlink{structcontainer}{container} play\_grid, play\_piece;
18     \textcolor{keywordtype}{int} piece\_x, piece\_y;
19     SDL\_Color color;
20     \hyperlink{structcell}{cell}* SDL\_grid;
21 
22     \textcolor{keywordflow}{if}(SDL\_Init(SDL\_INIT\_VIDEO) != 0) \{
23         printf(\textcolor{stringliteral}{"SDL\_Init error: %s\(\backslash\)n"}, SDL\_GetError());
24         exit(1);
25     \}
26 
27     \hyperlink{container_8c_af20cf8b598b78389dff22b3d176a3727}{initContainer}(\hyperlink{head_8h_a241aeeb764887ae5e3de58b98f04b16d}{WIDTH}, \hyperlink{head_8h_aed89bd71aee8be823e8a20ec4e093c1e}{HEIGHT}, &play\_grid);
28     SDL\_grid = \hyperlink{mainSDL_8c_a27285143372bf92801396e8ac896e9e2}{initDisplay}(&play\_grid,30);
29     \textcolor{keywordflow}{if} (SDL\_grid == NULL) \{
30         printf(\textcolor{stringliteral}{"initDisplay error\(\backslash\)n"});
31         exit(1);
32     \}
33 
34     SDL\_Window* window = NULL;
35     window = SDL\_CreateWindow( \textcolor{stringliteral}{"VapidTetris"}, SDL\_WINDOWPOS\_UNDEFINED, SDL\_WINDOWPOS\_UNDEFINED, 
      \hyperlink{head_8h_a241aeeb764887ae5e3de58b98f04b16d}{WIDTH}*32+20, \hyperlink{head_8h_aed89bd71aee8be823e8a20ec4e093c1e}{HEIGHT}*32+20, SDL\_WINDOW\_SHOWN);
36 
37     SDL\_Renderer* renderer = NULL;
38     renderer =  SDL\_CreateRenderer( window, -1, SDL\_RENDERER\_ACCELERATED);
39 
40     play\_piece = \hyperlink{container_8c_aae1449e449d2f69b52594cccb1dc1e42}{randomPiece}();
41     piece\_x = 0;
42     piece\_y = 0;
43     color.r = 255;
44     color.g = 0;
45     color.b = 0;
46 
47     \hyperlink{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}{sdlDisplay}(renderer, SDL\_grid, &play\_grid, &play\_piece, color, piece\_x, piece\_y);
48 
49     \textcolor{keywordtype}{int} tmp = 1;
50     \textcolor{keywordflow}{while} (tmp) \{
51         SDL\_Event event;
52         SDL\_PollEvent(&event);
53         \textcolor{keywordflow}{switch} (event.type) \{
54             \textcolor{keywordflow}{case} SDL\_KEYDOWN:
55                 \textcolor{keywordflow}{switch}(event.key.keysym.sym) \{
56                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'q'}: piece\_x-=1; \textcolor{keywordflow}{break};
57                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}: piece\_x+=1; \textcolor{keywordflow}{break};
58                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'z'}: piece\_y-=1; \textcolor{keywordflow}{break};
59                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}: piece\_y+=1; \textcolor{keywordflow}{break};
60                     \textcolor{keywordflow}{case} \textcolor{charliteral}{'p'}:
61                         \textcolor{keywordflow}{if} (\hyperlink{container_8c_a7a74c6812adffb8d4419092b999a823b}{checkCollision}(&play\_grid, &play\_piece, piece\_x, piece\_y)) \{
62                             printf(\textcolor{stringliteral}{"Can't fit here!\(\backslash\)n"});
63                         \}\textcolor{keywordflow}{else}\{
64                             \hyperlink{container_8c_a46bfac7d0493d39bd4aad51f270bd0d7}{place}(&play\_grid, &play\_piece, piece\_x, piece\_y);
65                             \hyperlink{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}{sdlUpdateDisplay}(SDL\_grid,&play\_piece,&play\_grid, color, 
      piece\_x, piece\_y);
66                             play\_piece = \hyperlink{container_8c_aae1449e449d2f69b52594cccb1dc1e42}{randomPiece}();
67                             \hyperlink{head_8h_aca3f584034ddadfcf89951a1bf10f45c}{update}(&play\_grid);
68                         \}
69                         \textcolor{keywordflow}{break};
70                 \}
71                 \textcolor{keywordflow}{if} (piece\_x<0) \{
72                     piece\_x = 0;
73                 \}
74                 \textcolor{keywordflow}{if} (piece\_y<0) \{
75                     piece\_y = 0;
76                 \}
77                 \textcolor{keywordflow}{if} (piece\_x>play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}-play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}) \{
78                     piece\_x = play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}-play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len};
79                 \}
80                 \textcolor{keywordflow}{if} (piece\_y>(play\_grid.\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})-(play\_piece.
      \hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})) \{
81                     piece\_y = (play\_grid.\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_grid.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})-(play\_piece.
      \hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/play\_piece.\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len});
82                 \}
83                 \hyperlink{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}{sdlDisplay}(renderer, SDL\_grid, &play\_grid, &play\_piece, color, piece\_x, piece\_y);
84                 \textcolor{keywordflow}{break};
85             \textcolor{keywordflow}{case} SDL\_QUIT:
86                 tmp = 0;
87                 \textcolor{keywordflow}{break};
88             default :
89                 \textcolor{keywordflow}{break};
90         \}
91     \}
92 
93     \textcolor{keywordflow}{return} 0;
94 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mainSDL_8c_abf9e6b7e6f15df4b525a2e7705ba3089_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}\label{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!sdl\+Display@{sdl\+Display}}
\index{sdl\+Display@{sdl\+Display}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{sdl\+Display()}{sdlDisplay()}}
{\footnotesize\ttfamily void sdl\+Display (\begin{DoxyParamCaption}\item[{S\+D\+L\+\_\+\+Renderer $\ast$}]{renderer,  }\item[{\hyperlink{structcell}{cell} $\ast$}]{S\+D\+L\+\_\+grid,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{grid,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{piece,  }\item[{S\+D\+L\+\_\+\+Color}]{color,  }\item[{int}]{px,  }\item[{int}]{py }\end{DoxyParamCaption})}



Definition at line 131 of file main\+S\+D\+L.\+c.



References cell\+::border, cell\+::cases, container\+::data, container\+::len, and container\+::size.



Referenced by main().


\begin{DoxyCode}
131                                                                                                            
                       \{
132 
133     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < (grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}); y++) \{
134         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; x++) \{
135 
136             \textcolor{keywordflow}{if} (x>=px && x<(px+piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}) && y>=py && y<(py+(piece->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/piece->
      \hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})) && piece->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[((y-py)*piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x-px]) \{
137                 SDL\_SetRenderDrawColor( renderer, color.r, color.g, color.b, 255 );
138             \}\textcolor{keywordflow}{else}\{
139                 SDL\_SetRenderDrawColor( renderer, 0, 0, 0, 255 );
140             \}
141             SDL\_RenderFillRect( renderer, &(SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_ae289d5dfc43a03b47de6dffa417776df}{border}));
142 
143             \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 1)\{
144                 SDL\_SetRenderDrawColor( renderer, 255, 0, 0, 255 );
145             \}
146             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 2)\{
147                 SDL\_SetRenderDrawColor( renderer, 0, 255, 0, 255 );
148             \}
149             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 3)\{
150                 SDL\_SetRenderDrawColor( renderer, 0, 0, 255, 255 );
151             \}
152             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 4)\{
153                 SDL\_SetRenderDrawColor( renderer, 255, 255, 0, 255 );
154             \}
155             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 5)\{
156                 SDL\_SetRenderDrawColor( renderer, 255, 0, 255, 255 );
157             \}
158             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(grid->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x] == 6)\{
159                 SDL\_SetRenderDrawColor( renderer, 0, 255, 255, 255 );
160             \}
161             \textcolor{keywordflow}{else}\{
162                 SDL\_SetRenderDrawColor( renderer, 123, 123, 123, 255 );
163             \}
164                 SDL\_RenderFillRect( renderer, &(SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].
      \hyperlink{structcell_af2fb9745b37f309905e02fed903748a5}{cases}));
165         \}
166     \}
167     SDL\_RenderPresent(renderer);
168 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{mainSDL_8c_ab961411fd9020c4b2d555cee4b177ab4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}\label{mainSDL_8c_a1e6fb88709bf05a801d646c538927764}} 
\index{main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}!sdl\+Update\+Display@{sdl\+Update\+Display}}
\index{sdl\+Update\+Display@{sdl\+Update\+Display}!main\+S\+D\+L.\+c@{main\+S\+D\+L.\+c}}
\subsubsection{\texorpdfstring{sdl\+Update\+Display()}{sdlUpdateDisplay()}}
{\footnotesize\ttfamily void sdl\+Update\+Display (\begin{DoxyParamCaption}\item[{\hyperlink{structcell}{cell} $\ast$}]{S\+D\+L\+\_\+grid,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{piece,  }\item[{\hyperlink{structcontainer}{container} $\ast$}]{grid,  }\item[{S\+D\+L\+\_\+\+Color}]{color,  }\item[{int}]{px,  }\item[{int}]{py }\end{DoxyParamCaption})}



Definition at line 118 of file main\+S\+D\+L.\+c.



References cell\+::b, container\+::data, cell\+::g, container\+::len, cell\+::r, and container\+::size.



Referenced by main().


\begin{DoxyCode}
118                                                                                                         \{
119     \textcolor{keywordtype}{int} y, x;
120     \textcolor{keywordflow}{for} (y = 0; y < grid->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; y++) \{
121         \textcolor{keywordflow}{for} (x = 0; x < grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}; x++) \{
122             \textcolor{keywordflow}{if} (x>=px && x<(px+piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len}) && y>=py && y<(py+(piece->\hyperlink{structcontainer_a1e938d250074e70b9778df1b59121744}{size}/piece->
      \hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})) && piece->\hyperlink{structcontainer_aefae69762fe9c24169e2ca5418a711a1}{data}[((y-py)*piece->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x-px]) \{
123                 SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].r = color.\hyperlink{structcell_a8cefee0153ea06b2465c1142c467b3e0}{r};
124                 SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].\hyperlink{structcell_ac8a350a38ff279748cfe301a30c8878f}{g} = color.g;
125                 SDL\_grid[(y*grid->\hyperlink{structcontainer_a0069496fb95c879cd33fb79ab726e81a}{len})+x].b = color.\hyperlink{structcell_a370fd46cdbe470096b56b9c53941eb0e}{b};
126             \}
127         \}
128     \}
129 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{mainSDL_8c_a1e6fb88709bf05a801d646c538927764_icgraph}
\end{center}
\end{figure}
